# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈
# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈   PRIMARY KEY   ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈
# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈

unbind C-b

set -g prefix C-a
bind C-a send-prefix

# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈
# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈   SETUP   ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈
# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈

set -g mouse on
set -g base-index 1
set -g pane-base-index 1
set -g allow-rename on
set -g renumber-windows on
setw -g mode-keys vi
set -sg escape-time 0
setw -g aggressive-resize on

set -g default-terminal 'tmux-256color'
set-option -ga terminal-overrides ',xterm-256color:Tc'

set-option -g visual-activity off
set-option -g visual-bell off
set-option -g visual-silence off
set-window-option -g monitor-activity off
set-window-option -g mode-keys vi
set-option -g bell-action none
set-option -g remain-on-exit on
set-option -ga update-environment ' DISPLAY PATH'
set-option -g default-shell /usr/bin/fish

# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈
# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈   CONFIG   ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈
# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈

# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈     colors     ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈
DARK="#202837"
CYAN="#a3b8ef"
LIGHT_BLUE="#9398cf"
LIGHTEST_BLUE="#404060"

# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈     formats     ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈
DATE_FORMAT="%Y-%m-%d"
TIME_FORMAT="%H:%M:%S"

S1="#[fg=${LIGHTEST_BLUE},bg=${CYAN}]"
S2="#[fg=${CYAN},bg=${LIGHTEST_BLUE}]"
S3="#[fg=${LIGHT_BLUE},bg=${LIGHTEST_BLUE}]"
S4="#[fg=${CYAN},bg=default]"
RIGHT_FULL=""
LEFT_FULL=""
LEFT=""
RIGHT=""

# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈     STATUS LINE     ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈
set -g status-interval 1
set -g status-position top
set -g status-justify left
set -g status-left-length 50
set -g status-right-length 140
set -g status-style default
set -g message-style "fg=${LIGHTEST_BLUE},bg=${CYAN}"
set -g message-command-style "fg=${LIGHTEST_BLUE},bg=${CYAN}"
set -g status-left ""
set -g status-right "#{s|.+NVIM$||;s|.+fish$||:pane_title} ${S4}#S ${S4}${LEFT_FULL}${S1} ${DATE_FORMAT} ${TIME_FORMAT} "
set -g window-status-format "${S2} #(echo #{pane_current_path} | sed -E "s/.home.[a-zA-Z]+/~/g" | rev | cut -d'/' -f-2 | rev) "
set -g window-status-current-format "${S1} #(echo #{pane_current_path} | sed -E "s/.home.[a-zA-Z]+/~/g" | rev | cut -d'/' -f-2 | rev) "
set -g window-status-separator ""
set -g mode-style "fg=${LIGHTEST_BLUE},bg=${CYAN}"
# border line colors
set -g pane-border-style fg=#99aee5
set -g pane-active-border-style fg=#99aee5
set -g history-limit 20000

# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈
# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈   KEY BINDINGS   ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈
# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈

bind r source-file ~/.tmux.conf \; display ".tmux.conf reloaded"

bind -r h resize-pane -L 4
bind -r j resize-pane -D 2
bind -r k resize-pane -U 2
bind -r l resize-pane -R 4

bind / copy-mode \; send-key ?
bind [ select-layout tiled
bind C-u copy-mode
bind -n M-v copy-mode
bind C-z copy-mode
bind D detach

bind x kill-window -a
bind q kill-pane -a

bind C-m split-window -p 32 -b -h -c "#{pane_current_path}"
# 4 panes
bind C-l split-window -p 50 -c "#{pane_current_path}" -h \;\
         select-pane -t 1 \;\
         split-window -p 50 -c "#{pane_current_path}" \;\
         select-pane -t 1 \;\
         split-window -p 50 -c "#{pane_current_path}" -h \;\
         select-pane -t 1 \;\
         select-layout tiled
# 6 panes
bind C-k split-window -p 50 -c "#{pane_current_path}" -h \;\
         select-pane -t 1 \;\
         split-window -p 50 -c "#{pane_current_path}" \;\
         select-pane -t 1 \;\
         split-window -p 50 -c "#{pane_current_path}" -h \;\
         select-pane -t 1 \;\
         split-window -p 50 -c "#{pane_current_path}" \;\
         select-pane -t 1 \;\
         split-window -p 50 -c "#{pane_current_path}" -h \;\
         select-pane -t 1 \;\
         select-layout tiled

bind C-j split-window -p 32 -c "#{pane_current_path}" -b -h \;\
         split-window -p 50 -c "#{pane_current_path}" \;\
         select-pane -t 1 \;\
         split-window -p 50 -c "#{pane_current_path}" \;\
         select-pane -t 3 \;\
         split-window -p 50 -c "#{pane_current_path}" \;\
         select-pane -t 5 \;\
         split-window -p 50 -c "#{pane_current_path}" \;\
         select-pane -t 1 \;\
         select-pane -t 5

bind C-i split-window -p 32 -c "#{pane_current_path}" -b -h \;\
         select-pane -t 1 \;\
         split-window -p 50 -c "#{pane_current_path}" \;\
         select-pane -t 2 \;\
         split-window -p 50 -c "#{pane_current_path}" \;\
         select-pane -t 1 \;\
         split-window -p 50 -c "#{pane_current_path}" \;\
         select-pane -t 1 \;\
         select-pane -t 5

bind -n M-n previous-window
bind -n M-p next-window
bind -n M-z resize-pane -Z
bind -n M-h select-pane -L
bind -n M-j select-pane -D
bind -n M-k select-pane -U
bind -n M-l select-pane -R

bind -n M-i new-window -c "#{pane_current_path}" -n 1
bind -n M-o split-window -h -c "#{pane_current_path}"
bind -n "M-'" split-window -v -c "#{pane_current_path}"

bind -n M-X kill-window
bind -n M-q kill-pane

bind -n -r M-s swap-pane -D

bind-key -T copy-mode-vi v send-keys -X begin-selection
bind-key -T copy-mode-vi C-v send-keys -X rectangle-toggle
bind-key -T copy-mode-vi y send-keys -X copy-selection-and-cancel

# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈
# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈   PLUGINS   ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈
# ┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈┈

set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'Morantron/tmux-fingers'
set -g @plugin 'tmux-plugins/tmux-sessionist'
set -g @plugin 'tmux-plugins/tmux-continuum'

set -g @continuum-boot 'on'
set -g @continuum-restore 'on'
set -g @continuum-save-interval '1'

set -g @resurrect-strategy-nvim 'session'
set -g @resurrect-capture-pane-contents 'off'

set -g @yank_action 'copy-pipe'

# set -g @fingers-keyboard-layout 'qwerty-right-hand'
set -g @fingers-patterns-0 '[[:alnum:][:punct:]]+'
set -g @fingers-hint-format '#[fg=red,bold]%s'
set -g @fingers-compact-hints 1

run '~/.tmux/plugins/tpm/tpm'

